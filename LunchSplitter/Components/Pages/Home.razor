@page "/"
@using LunchSplitter.Domain.Entity
@using LunchSplitter.Services
@inject GroupService groupService

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<EditForm Model=@newGroup OnValidSubmit="HandleSubmit" FormName="CreateGroup">
    <DataAnnotationsValidator />

    <div>
        <label for="NameInput">Name</label>
        <InputText id="NameInput" @bind-Value="newGroup.Name" />
        <ValidationMessage For="@(() => newGroup.Name)" />
    </div>

    <button type="submit">Submit</button>
</EditForm>

@code
{
    private Group newGroup = new Group();

    private void HandleSubmit()
    {
        groupService.AddGroup(newGroup);
        newGroup = new Group(); // Reset form after submission if needed
    }
}
